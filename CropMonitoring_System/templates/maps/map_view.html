{# templates/maps/map_view.html #}
{% extends 'base.html' %}
{% load static %}
{% block title %}íƒ€ì¼ë§µ ì„ íƒ{% endblock %}

{% block content %}
{#<div class="w-full max-w-7xl mx-auto">#}
        <div class="w-full px-4"> <!-- âœ… ì „ì²´ í­ -->

    <!-- âœ… ì„ íƒ í•„í„° -->
    <section class="bg-white shadow-md rounded-xl p-6 mb-8">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">ğŸ§­ ì§€ë„ ë³´ê¸° ì„¤ì •</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
            <div>
                <label for="crop" class="block text-sm font-medium text-gray-700">ì‘ë¬¼</label>
                <select id="crop" class="w-full border rounded-md px-3 py-2">
                    <option value="">Select Crop</option>
                    {% for crop in crops %}
                        <option value="{{ crop }}">{{ crop }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="year" class="block text-sm font-medium text-gray-700">ì—°ë„</label>
                <select id="year" class="w-full border rounded-md px-3 py-2">
                    <option value="">Select Year</option>
                </select>
            </div>

            <div>
                <label for="country" class="block text-sm font-medium text-gray-700">êµ­ê°€</label>
                <select id="country" class="w-full border rounded-md px-3 py-2">
                    <option value="">Select Country</option>
                </select>
            </div>

            <div>
                <label for="state" class="block text-sm font-medium text-gray-700">ì£¼</label>
                <select id="state" class="w-full border rounded-md px-3 py-2">
                    <option value="">ì „ì²´</option>
                </select>
            </div>

            <div>
                <label for="variant" class="block text-sm font-medium text-gray-700">Wheat Variant</label>
                <select id="variant" class="w-full border rounded-md px-3 py-2">
                    <option value="">ì „ì²´</option>
                </select>
            </div>
        </div>
    </section>

    <!-- âœ… ì§€ë„ + í†µê³„ -->
    <section class="flex flex-col lg:flex-row gap-6">
        <!-- ì§€ë„ -->
        <div class="flex-1 bg-white shadow-md rounded-xl p-4">
            <h2 class="text-lg font-semibold text-gray-800 mb-2">ğŸ—ºï¸ ì§€ë„</h2>
            <div id="map" class="w-full h-[650px] rounded-lg"></div>
        </div>

        <!-- ì¬ë°°ë©´ì  í†µê³„ -->
        <aside class="flex-1 bg-white shadow-md rounded-xl p-4">
            <h2 class="text-lg font-semibold text-gray-800 mb-2">ğŸ“Š ì¬ë°°ë©´ì  ì •ë³´</h2>

            <div id="area-total" class="text-sm mb-4 text-gray-700"></div>

            <div id="area-ranking-controls" class="flex flex-wrap gap-2 mb-4 items-center text-sm">
                <button id="area-sort-asc" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">ì˜¤ë¦„ì°¨ìˆœ</button>
                <button id="area-sort-desc" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">ë‚´ë¦¼ì°¨ìˆœ</button>
                <label class="ml-4"><input type="radio" name="unit" value="acres" checked class="mr-1">acres</label>
                <label class="ml-2"><input type="radio" name="unit" value="hectares" class="mr-1">hectares</label>
                <button id="download-btn" class="ml-auto px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 hidden">CSV ë‹¤ìš´ë¡œë“œ</button>
            </div>

{#            <ul id="area-ranking-list" class="text-sm text-gray-700 mb-4 max-h-48 overflow-y-auto space-y-1 list-disc list-inside"></ul>#}
<ul id="area-ranking-list" style="margin-bottom: 10px;"></ul>

            <div id="plotly-bar" class="h-[300px] mb-6"></div>
            <div id="time-series-chart" class="h-[300px]"></div>
        </aside>
    </section>
</div>

<!-- âœ… ìŠ¤í¬ë¦½íŠ¸ -->
<script src="{% static 'js/area_chart_logic.js' %}"></script>
<script src="{% static 'js/map_logic.js' %}"></script>
<script src="{% static 'js/boundary_logic.js' %}"></script>
{% endblock %}
