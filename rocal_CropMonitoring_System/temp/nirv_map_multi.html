{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="w-full px-4">
        <section class="flex flex-col gap-6">

            <!-- ğŸ”§ ìƒë‹¨ í•„í„° -->
            <div class="bg-white shadow-md rounded-xl p-4">
                <h2 class="text-lg font-semibold mb-3">NIRv ë‹¤ì¤‘ ì‹œê³„ì—´ ë¹„êµ</h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <select id="crop" class="border rounded p-2">
                        <option value="">ì‘ë¬¼ ì„ íƒ</option>
                        {% for crop in crops %}
                            <option value="{{ crop }}">{{ crop }}</option>
                        {% endfor %}
                    </select>

                    <select id="year" class="border rounded p-2">
                        <option value="">ì—°ë„ ì„ íƒ</option>
                        <!-- crop ì„ íƒ ì‹œ ë™ì  ë¡œë”© -->
                    </select>

                    <button id="load-btn"
                            class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 col-span-1 md:col-span-1">
                        ì—…ë°ì´íŠ¸
                    </button>
                </div>
            </div>

            <!-- ğŸ“ˆ ë‹¤ì¤‘ ê·¸ë˜í”„ ì˜ì—­ -->
            <div id="multi-nirv-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4"></div>


            <hr class="my-4 border-gray-300" />
            <div id="multi-zscore-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4"></div>

        </section>
    </div>

    <!-- ğŸ“¦ Plotly & JS -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="{% static 'js/nirv_plot_multi.js' %}"></script>
{% endblock %}
